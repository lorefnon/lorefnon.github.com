<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Icicles of Thought • Posts by &#34;typescript&#34; tag</title>
        <link>https://lorefnon.me</link>
        <description></description>
        <language>en</language>
        <pubDate>Sun, 02 Feb 2020 05:30:00 +0530</pubDate>
        <lastBuildDate>Sun, 02 Feb 2020 05:30:00 +0530</lastBuildDate>
        <category>Javascript</category>
        <category>KnockoutJS</category>
        <category>Ruby</category>
        <category>EventMachine</category>
        <category>Websockets</category>
        <category>Jade</category>
        <category>Node.js</category>
        <category>Rails</category>
        <category>Emacs</category>
        <category>Gulp</category>
        <category>ActiveAdmin</category>
        <category>ActiveRecord</category>
        <category>Devise</category>
        <category>Integration</category>
        <category>Productivity Hacks</category>
        <category>Design Patterns</category>
        <category>InfluxDB</category>
        <category>Grafana</category>
        <category>Functional Programming</category>
        <category>ES6</category>
        <category>Typescript</category>
        <category>ReasonML</category>
        <category>React</category>
        <category>Frontend</category>
        <category>Next.js</category>
        <category>Koa</category>
        <category>Apollo</category>
        <category>GraphQL</category>
        <category>MongoDB</category>
        <category>Automerge</category>
        <category>CRDT</category>
        <category>SVG</category>
        <category>VSCode</category>
        <category>Comlink</category>
        <category>Web-workers</category>
        <category>io-ts</category>
        <category>MobX</category>
        <category>MobX-State-Tree</category>
        <category>Routing</category>
        <category>SQLite</category>
        <category>ZSH</category>
        <category>OCR</category>
        <category>Helm</category>
        <category>SPF</category>
        <category>CSS</category>
        <category>Redux</category>
        <category>Redux-loop</category>
        <category>Vagrant</category>
        <category>Clojure</category>
        <category>Hashicorp</category>
        <category>HAR</category>
        <category>Jq</category>
        <category>Lit-html</category>
        <category>Stimulus</category>
        <category>Kotlin</category>
        <category>Vert.X</category>
        <category>Vert.X-Web</category>
        <category>Backend-development</category>
        <category>API-development</category>
        <item>
            <guid isPermalink="true">https://lorefnon.me/2020/02/02/conditionally-making-optional-properties-mandatory-in-typescript/</guid>
            <title>Conditionally making optional properties mandatory in typescript</title>
            <link>https://lorefnon.me/2020/02/02/conditionally-making-optional-properties-mandatory-in-typescript/</link>
            <category>Typescript</category>
            <pubDate>Sun, 02 Feb 2020 05:30:00 +0530</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon.min.css&#34; &gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon-flatui-light.css&#34; &gt;



	&lt;p&gt;A common case in applications is to work with types where certain properties are nullable. However, it is also common to need derived types of these same types which are stricter around nullablity of properties.&lt;/p&gt;
&lt;p&gt;Let’s imagine a note taking app: We have a &lt;code&gt;Notebook&lt;/code&gt; type where &lt;code&gt;id&lt;/code&gt; is nullable because unsaved notebooks haven’t been assigned an &lt;code&gt;id&lt;/code&gt; yet. However after saving it, we know for a fact that a &lt;code&gt;Notebook&lt;/code&gt; instance will have an &lt;code&gt;id&lt;/code&gt; and ideally we shouldn’t have to say &lt;code&gt;notebook.id!&lt;/code&gt; in the rest of the application.&lt;/p&gt;
&lt;p&gt;So, in this post we will explore a generic way to derive types like &lt;code&gt;SavedNotebook&lt;/code&gt; where certain properties are conditionally mapped to non-optional.&lt;/p&gt;
&lt;p&gt;&lt;span id=&#34;more-681&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;TS comes with a &lt;code&gt;NonNullable&lt;/code&gt; type, which essentially strips out &lt;code&gt;null&lt;/code&gt; and &lt;code&gt;undefined&lt;/code&gt; from any type.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce893c080196261&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce893c080196261-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce893c080196261-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce893c080196261-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce893c080196261-4&#34;&gt;4&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce893c080196261-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce893c080196261-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T1&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;undefined&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce893c080196261-3&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T2&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;NonNullable&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T1&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;// string&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce893c080196261-4&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0042 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;We also have &lt;a class=&#34;wp-editor-md-post-content-link&#34; href=&#34;https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types&#34;&gt;mapped types&lt;/a&gt; that allow us to map over a type and programmatically derive the type for each key.&lt;/p&gt;
&lt;p&gt;So the following makes all values non-nullable:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce894c519604699&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce894c519604699-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce894c519604699-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce894c519604699-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce894c519604699-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce894c519604699-5&#34;&gt;5&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce894c519604699-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce894c519604699-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;SavedNotebook&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce894c519604699-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;keyof &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Notebook&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;NonNullable&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Notebook&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce894c519604699-4&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce894c519604699-5&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Now, we can use &lt;a class=&#34;wp-editor-md-post-content-link&#34; href=&#34;https://www.typescriptlang.org/docs/handbook/advanced-types.html#conditional-types&#34;&gt;conditional types&lt;/a&gt; to make only certain values non-nullable:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce8953823116233&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8953823116233-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8953823116233-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8953823116233-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8953823116233-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8953823116233-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8953823116233-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8953823116233-7&#34;&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8953823116233-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8953823116233-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;SavedNotebook&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8953823116233-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;keyof &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Notebook&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8953823116233-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;NonNullable&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Notebook&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8953823116233-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Notebook&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8953823116233-6&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8953823116233-7&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Or, a more generic implementation:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce8958257407111&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8958257407111-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8958257407111-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8958257407111-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8958257407111-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8958257407111-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8958257407111-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8958257407111-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8958257407111-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8958257407111-9&#34;&gt;9&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8958257407111-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8958257407111-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;MandateProps&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;keyof&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8958257407111-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;TK &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;keyof&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;TK &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8958257407111-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;NonNullable&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;TK&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8958257407111-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;TK&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8958257407111-6&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8958257407111-7&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8958257407111-8&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;SavedNotebook&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;MandateProps&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Notebook&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8958257407111-9&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0014 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Our &lt;code&gt;SavedNotebook&lt;/code&gt; type will effectively be:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce895d989196490&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce895d989196490-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce895d989196490-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce895d989196490-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce895d989196490-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce895d989196490-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce895d989196490-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce895d989196490-7&#34;&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce895d989196490-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce895d989196490-2&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce895d989196490-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce895d989196490-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce895d989196490-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce895d989196490-6&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce895d989196490-7&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Looks good! Are we done then ? It turns out, not quite.&lt;/p&gt;
&lt;p&gt;Let’s tweak our &lt;code&gt;Notebook&lt;/code&gt; interface a bit:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce8962456978648&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8962456978648-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8962456978648-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8962456978648-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8962456978648-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8962456978648-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8962456978648-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8962456978648-7&#34;&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8962456978648-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8962456978648-2&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;Notebook&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8962456978648-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8962456978648-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8962456978648-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8962456978648-6&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8962456978648-7&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0006 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;We made the properties optional. Our &lt;code&gt;SavedNotebook&lt;/code&gt; type will no longer evaluate to what we expect:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce8966800033072&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8966800033072-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8966800033072-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8966800033072-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8966800033072-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8966800033072-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8966800033072-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8966800033072-7&#34;&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8966800033072-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8966800033072-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;SavedNotebook&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8966800033072-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;undefined&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8966800033072-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;undefined&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8966800033072-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;undefined&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8966800033072-6&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8966800033072-7&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;What happened here ? Wasn’t our &lt;code&gt;NonNullable&lt;/code&gt; type supposed to take care of &lt;em&gt;both&lt;/em&gt; &lt;code&gt;null&lt;/code&gt; and &lt;code&gt;undefined&lt;/code&gt; ?&lt;/p&gt;
&lt;p&gt;Well, it did, but it turns out typescript treats the following as different cases:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Whether a key may (or may not) be present in an object type&lt;/li&gt;
&lt;li&gt;Whether the corresponding value may be &lt;code&gt;undefined&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Mapped types preserve the former, and so our &lt;code&gt;MandateProps&lt;/code&gt; is not able to remove the &lt;code&gt;undefined&lt;/code&gt; from &lt;code&gt;Notebook[&#34;id&#34;]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So, what should be do if we do want to make that key mandatory as well ?&lt;/p&gt;
&lt;p&gt;Thankfully typescript allows us to suffix our key with &lt;code&gt;-?&lt;/code&gt; while mapping over types to remove optionality.&lt;/p&gt;
&lt;p&gt;But doing that conditionally requires another workaround:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce896b987927910&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce896b987927910-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce896b987927910-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce896b987927910-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce896b987927910-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce896b987927910-5&#34;&gt;5&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce896b987927910-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce896b987927910-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;MandateProps&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;keyof&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Omit&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce896b987927910-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;MK &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;NonNullable&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;MK&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce896b987927910-4&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce896b987927910-5&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0012 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Omit&amp;lt;T, K&amp;gt;&lt;/code&gt; retains all the optional keys that we don’t care about and gets rid of the keys that are assignable to &lt;code&gt;K&lt;/code&gt;. Then we create another type for the keys which match &lt;code&gt;K&lt;/code&gt;, and while mapping over them we make the keys not optional. Intersection of the both gives us a type where all keys that are assignable to &lt;code&gt;K&lt;/code&gt; are mandatory.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce8971862497170&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8971862497170-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8971862497170-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8971862497170-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8971862497170-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8971862497170-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8971862497170-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8971862497170-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8971862497170-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8971862497170-9&#34;&gt;9&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8971862497170-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8971862497170-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;SavedNotebook&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;MandateProps&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Notebook&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8971862497170-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8971862497170-4&#34;&gt;&lt;span class=&#34;crayon-c&#34;&gt;// ^ Is equivalent to:&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8971862497170-5&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8971862497170-6&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;SavedNotebook&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Pick&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Notebook&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;name&#34;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;description&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8971862497170-7&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8971862497170-8&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8971862497170-9&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0010 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;This is pretty much what we want. &lt;code&gt;Omit&lt;/code&gt; is internally implemented using &lt;code&gt;Pick&lt;/code&gt; and typescript is being lazy about &lt;code&gt;Pick&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce8976911642548&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8976911642548-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8976911642548-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce8976911642548-3&#34;&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8976911642548-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8976911642548-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Omit&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;keyof &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Pick&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Exclude&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;keyof&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce8976911642548-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba445ce897b353313842&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce897b353313842-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce897b353313842-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba445ce897b353313842-3&#34;&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce897b353313842-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce897b353313842-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;SavedNotebook&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;id&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;// number&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba445ce897b353313842-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0004 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Voila.&lt;/p&gt;


     ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://lorefnon.me/2019/11/07/typesafe-tuple-hierarchies-in-typescript/</guid>
            <title>Type-safe tuple hierarchies in TypeScript</title>
            <link>https://lorefnon.me/2019/11/07/typesafe-tuple-hierarchies-in-typescript/</link>
            <category>Typescript</category>
            <pubDate>Thu, 07 Nov 2019 05:30:00 +0530</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon.min.css&#34; &gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon-flatui-light.css&#34; &gt;



	&lt;p&gt;I have a love-hate relationship with type safety. Type Checkers can be  amazingly powerful tools when they work and yet can be frustrating every now and then when you hit some unsupported edge case.&lt;/p&gt;
&lt;p&gt;Thankfully more and more of these corners are getting eliminated with the hard work that the typescript team has been putting in.&lt;/p&gt;
&lt;p&gt;One such case that was a PITA was support (or lack thereof) for recursive types in TypeScript.&lt;/p&gt;
&lt;p&gt;&lt;span id=&#34;more-638&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s say you despise XML/JSX and want to express User interface composition as a composition of tuples.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf48879040309&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf48879040309-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf48879040309-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf48879040309-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf48879040309-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf48879040309-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf48879040309-6&#34;&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf48879040309-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf48879040309-2&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ui&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf48879040309-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;container&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf48879040309-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf48879040309-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf48879040309-6&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0043 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;if you are coming from any of lisp-family languages you are probably already habituated to s-expressions for composing interfaces. &lt;a href=&#34;https://github.com/weavejester/hiccup&#34;&gt;Hiccup&lt;/a&gt;, for instance, is a cool&lt;br&gt;
templating language that utilizes s-expressions for consize boilerplate-free template composition.&lt;/p&gt;
&lt;p&gt;So, now, how do we make this type safe.&lt;/p&gt;
&lt;p&gt;Lets try the obvious approach:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf6e735348334&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf6e735348334-16&#34;&gt;16&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-2&#34;&gt;&lt;span class=&#34;crayon-c&#34;&gt;// Registry of tags and supported attributes&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-3&#34;&gt;&lt;span class=&#34;crayon-c&#34;&gt;// Simplified for brevity&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-4&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-7&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-8&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;span&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-9&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-10&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-11&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-12&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-13&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;keyof &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-14&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-15&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf6e735348334-16&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0019 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Until the last stable version of typescript this would have failed because recursive type aliases were not well supported. So we’d be greeted with an error:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf76968424678&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf76968424678-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf76968424678-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf76968424678-3&#34;&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf76968424678-1&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;lt&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;span&#34;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;span&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;gt&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;any&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf76968424678-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;Type &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;alias&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#39;ElementTuple&#39;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;circularly &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;references &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;itself&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf76968424678-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Hmm… let us see if we can use utilize the typical trick of using interfaces to work around this:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf7c211814569&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-16&#34;&gt;16&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-17&#34;&gt;17&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf7c211814569-18&#34;&gt;18&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-2&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;span&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-7&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;string&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-8&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-9&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-10&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-11&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;keyof &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-12&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-13&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-14&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-15&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-16&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-17&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf7c211814569-18&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0022 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;This indeed seems to work:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf81046550299&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf81046550299-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf81046550299-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf81046550299-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf81046550299-4&#34;&gt;4&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf81046550299-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf81046550299-2&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt; t1:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf81046550299-3&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt; t2:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;di&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf81046550299-4&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0011 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;TS complains that the second assignment is not valid because:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;
  Type ‘”di”‘ is not assignable to type ‘”div” | “span”‘.
&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;There is a caveat though:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf88200281863&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf88200281863-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf88200281863-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf88200281863-3&#34;&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf88200281863-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf88200281863-2&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt; t1:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;junk&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf88200281863-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;This passes too !&lt;/p&gt;
&lt;p&gt;Why doesn’t TypeScript complain ? Because our interface just cares about 0|1|2 indexes. If our tuple has other irrelevant things at other indexes, it doesn’t matter – it still satisfies the ElementTuple interface.&lt;/p&gt;
&lt;p&gt;This is a problem for us if we want to support a variable arity tuples for convenience:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf8e227778586&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf8e227778586-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf8e227778586-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf8e227778586-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf8e227778586-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf8e227778586-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf8e227778586-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf8e227778586-7&#34;&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf8e227778586-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf8e227778586-2&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;// Attributes can be skipped if not needed&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf8e227778586-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf8e227778586-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;// Both attributes and children skipped&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf8e227778586-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf8e227778586-6&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf8e227778586-7&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;In such cases, typescript’s inference can fallback to type that matches some index and ignore the other indexes (having erroneous values). This can compromise with type safety:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf93566686331&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-16&#34;&gt;16&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-17&#34;&gt;17&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-18&#34;&gt;18&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-19&#34;&gt;19&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-20&#34;&gt;20&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-21&#34;&gt;21&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-22&#34;&gt;22&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-23&#34;&gt;23&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-24&#34;&gt;24&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-25&#34;&gt;25&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-26&#34;&gt;26&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-27&#34;&gt;27&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-28&#34;&gt;28&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-29&#34;&gt;29&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-30&#34;&gt;30&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf93566686331-31&#34;&gt;31&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-2&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element1Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-4&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-5&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-6&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-7&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-8&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-9&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-10&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-11&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementChildren2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-12&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-13&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-14&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-15&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-16&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element3Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-17&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-18&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-19&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-20&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-21&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-22&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-23&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element1Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-24&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-25&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementChildren2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-26&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element3Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-27&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-28&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt; t:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-29&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-30&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;bar&#34;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf93566686331-31&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0044 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;This passes without hiccups ! Why does TypeScript allow random attributes for a div ? Because the nested array can’t match the &lt;code&gt;ElementAttrs2Tuple&lt;/code&gt; but can match &lt;code&gt;Element1Tuple&lt;/code&gt; so TS doesn’t complain.&lt;/p&gt;
&lt;p&gt;Lets see, if we can do something to restrict the other index positions:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf99905042116&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf99905042116-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf99905042116-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf99905042116-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf99905042116-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf99905042116-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf99905042116-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf99905042116-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf99905042116-8&#34;&gt;8&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf99905042116-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf99905042116-2&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element3Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf99905042116-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf99905042116-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf99905042116-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf99905042116-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Exclude&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;never&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf99905042116-7&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf99905042116-8&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0031 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Nope. This doesn’t work because:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;
  An index signature parameter type cannot be a type alias.
&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Fortunately, there is a simpler solution to this:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467baf9e773358317&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf9e773358317-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf9e773358317-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf9e773358317-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf9e773358317-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf9e773358317-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf9e773358317-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf9e773358317-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467baf9e773358317-8&#34;&gt;8&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf9e773358317-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf9e773358317-2&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;Element3Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;keyof&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf9e773358317-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf9e773358317-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf9e773358317-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf9e773358317-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;never&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf9e773358317-7&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467baf9e773358317-8&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0023 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;We really just need care about the last position. Because an attempt to create an array literal with anything at index 3 will fail to match Element3Tuple (including undefined, null etc.) So the array size has to match exactly 3.&lt;/p&gt;
&lt;p&gt;We can extend this to the other tuple definitions:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467bafa3489130101&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-16&#34;&gt;16&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-17&#34;&gt;17&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-18&#34;&gt;18&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-19&#34;&gt;19&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-20&#34;&gt;20&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-21&#34;&gt;21&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-22&#34;&gt;22&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-23&#34;&gt;23&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-24&#34;&gt;24&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-25&#34;&gt;25&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-26&#34;&gt;26&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-27&#34;&gt;27&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-28&#34;&gt;28&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-29&#34;&gt;29&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-30&#34;&gt;30&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-31&#34;&gt;31&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-32&#34;&gt;32&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-33&#34;&gt;33&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafa3489130101-34&#34;&gt;34&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-2&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element1Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;never&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-5&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-6&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-7&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-8&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-9&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-10&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;never&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-11&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-12&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-13&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementChildren2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-14&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-15&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-16&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;never&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-17&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-18&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-19&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-20&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-21&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementChildren2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-22&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-23&#34;&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element3Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-24&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-25&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-26&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-27&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;never&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-28&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-29&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-30&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-31&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element1Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-32&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element2Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-33&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Element3Tuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafa3489130101-34&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0084 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Note that the trailing &lt;code&gt;never&lt;/code&gt; property has to always be optional otherwise we will end up with a type that is impossible to match.&lt;/p&gt;
&lt;p&gt;The element tuple that we have now is very close to what we wanted. Go ahead, try it out in the &lt;a href=&#34;http://www.typescriptlang.org/play/?ts=3.6.3&amp;amp;ssl=48&amp;amp;ssc=25&amp;amp;pln=45&amp;amp;pc=1#code/JYOwLgpgTgZghgYwgAgKIBsIFsLgIJhhQDOyA3sgLABQydyARACbABuDAXOTfb8sEwD8XYkVABzHvQC+AGil0GxAA5wQnbrT50Bw5KKgSFyaTVPUaYAJ7KUGbLjAAVOOOQBeZAGsIVgPYwaJg4+IQkANw0NKCQsIh2wY4AjE4ArsqYADxOyBAAHpAgTKT2Ic6uHkEO4C7iAHyavADaAAwAulxOkVp0TUlteiAQrNDd5tHg0PBIVWUERMQATGkZENm5BbjFs461laW7rg1kxq0dyF2n-VwHoQtNTm3dzYsDXEMjUGNR1DFT8TtwABhAAWwHQTCguGW6SyOXyhW2t3Kbk8yNqx1O7U6z3ofXO6NhECaT1Or0Gw1GZh+1lsgLAMNW6wRWxKiRqFTR7JRDXcxgAPvT5iRGXC6gL6aDwZDoSsxd0JrFpglqmAAMxytbwzZFNmqvZc-VHRp47EXXG9a5CsLEB6knrIJqvG7czUki2OtVvZAfKnUcbUWkqsqa5k6pGuzn0jEeCXIlJE7Lih2C5GirXJ3ip7kaxNOZM0BB+ECiZBgF36omxh1NZhsBiyR3GZp19iNigCLgMABGcCgDBMjaaze0jtbDDak8n4SAA&#34;&gt;playground&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467bafab482024145&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafab482024145-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafab482024145-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafab482024145-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafab482024145-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafab482024145-5&#34;&gt;5&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafab482024145-1&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt; t:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafab482024145-2&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafab482024145-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;bar&#34;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafab482024145-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;div&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafab482024145-5&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0016 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;While this may be cool if you like fiddling around the edges of type systems, we have to admit that though we worked around the limitations of typescript, what we ended up with is neither elegant nor intuitive.&lt;/p&gt;
&lt;p&gt;However, with TypeScript 3.7, these workarounds are no longer needed ! Recursive types are fully supported now. This means, we can simply do:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4467bafb2135116150&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafb2135116150-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafb2135116150-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafb2135116150-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafb2135116150-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafb2135116150-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafb2135116150-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4467bafb2135116150-7&#34;&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafb2135116150-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafb2135116150-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTag&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafb2135116150-3&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafb2135116150-4&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafb2135116150-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafb2135116150-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementAttrs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ElementTuple&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4467bafb2135116150-7&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0045 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Cool, consize and minimal. Works &lt;a href=&#34;http://www.typescriptlang.org/play/?ssl=21&amp;amp;ssc=25&amp;amp;pln=1&amp;amp;pc=1#code/JYOwLgpgTgZghgYwgAgKIBsIFsLgIJhhQDOyA3sgLABQydyARACbABuDAXOTfb8sEwD8XYkVABzHvQC+AGil0GxAA5wQnbrT50Bw5KKgSFyaTVPUaYAJ7KUGbLjAAVOOOQBeZAGsIVgPYwaJg4+IQkANw0ljZ2wY5OAK7KmAA8TsgQAB6QIEyk9iHOrh5BDuAu4gB8HsYAPsgA2k4AunWNTrKlhQRExE3NrVp09U2dBfFJmA0DbaNdjj0k-WNx5ZMQ082RFtQIfiCiyGBc42vJKO7GDcxsDJ0NxrzXLOydFAJcDABGcFAMJvdHtpGjd2ANweEgA&#34;&gt;too&lt;/a&gt; !&lt;/p&gt;


     ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://lorefnon.me/2019/08/18/deriving-interfaces-from-classes-in-typescript/</guid>
            <title>Deriving interfaces from classes in TypeScript</title>
            <link>https://lorefnon.me/2019/08/18/deriving-interfaces-from-classes-in-typescript/</link>
            <category>Typescript</category>
            <pubDate>Sun, 18 Aug 2019 05:30:00 +0530</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon.min.css&#34; &gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon-flatui-light.css&#34; &gt;



	&lt;p&gt;Most object oriented programming languages encourage the pattern of &lt;a class=&#34;wp-editor-md-post-content-link&#34; href=&#34;https://tuhrig.de/programming-to-an-interface/&#34;&gt;Programming to an interface&lt;/a&gt;. TypeScript supports this of course, you can create one or more interfaces, and then define classes (or factories) that generate instances of this interface.&lt;/p&gt;
&lt;p&gt;However, as the linked article above points out, programming to an interface is sometimes overused when the programmer anticipates the possibility of multiple concrete implementations in future although there may exist just one at the time of implementation.&lt;/p&gt;
&lt;p&gt;But, until these multiple implementations are actually required, these single-implementation interfaces continue to increase maintenance overhead, because every time we need to introduce a new member, we need to modify two places. Sure, the tooling helps with this but it still not ideal.&lt;/p&gt;
&lt;p&gt;Also, relying on just the concrete implementation is not ideal because TypeScript compiler service doesn’t yet have a good mechanism to bulk-replace all usage of a concrete implementation with the corresponding interface should we need multiple implementations in future.&lt;/p&gt;
&lt;p&gt;So, in this post we explore two features of typescript that may help us with this.&lt;br&gt;
&lt;span id=&#34;more-622&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h1&gt;Interfaces derived from classes&lt;/h1&gt;
&lt;p&gt;A lesser known feature of TypeScript is that interfaces can be derived from classes.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4468f1d79369408977&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d79369408977-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d79369408977-2&#34;&gt;2&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d79369408977-1&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;SyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;FSSyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d79369408977-2&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0026 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;It may seem like a no-brainer that this is a solution for our use case. But there is an important caveat: All private/protected members of the implementation are exposed in the derived interface.&lt;/p&gt;
&lt;p&gt;If you are surprised by this, you wouldn’t be alone. I found it highly counter-intuitive when I encountered it first, but the rationale behind this is explained in the &lt;a class=&#34;wp-editor-md-post-content-link&#34; href=&#34;https://www.typescriptlang.org/docs/handbook/interfaces.html&#34;&gt;official docs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;
  When an interface type extends a class type it inherits the members of the class but not their implementations. It is as if the interface had declared all of the members of the class without providing an implementation. Interfaces inherit even the private and protected members of a base class. This means that when you create an interface that extends a class with private or protected members, that interface type can only be implemented by that class or a subclass of it.&lt;/p&gt;
&lt;p&gt;  This is useful when you have a large inheritance hierarchy, but want to specify that your code works with only subclasses that have certain properties. The subclasses don’t have to be related besides inheriting from the base class.
&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;So, that is all good, but if we want just the public members, what do we do ?&lt;br&gt;
Thankfully a simple solution exists:&lt;/p&gt;
&lt;h1&gt;Using Mapped types&lt;/h1&gt;
&lt;p&gt;We can use &lt;a class=&#34;wp-editor-md-post-content-link&#34; href=&#34;https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html&#34;&gt;mapped types&lt;/a&gt; derived from public members of a type.&lt;/p&gt;
&lt;p&gt;Since a class definition is implicitly a type definition, this works well for classes too:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4468f1d87855263947&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d87855263947-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d87855263947-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d87855263947-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d87855263947-4&#34;&gt;4&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d87855263947-1&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;SyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d87855263947-2&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;keyof &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;FSSyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;FSSyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d87855263947-3&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d87855263947-4&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0007 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Now &lt;code&gt;SyncBackend&lt;/code&gt; type will have only public members of &lt;code&gt;FSSyncBackend&lt;/code&gt; class.&lt;/p&gt;
&lt;p&gt;While for most uses this solves our purpose, but if we strictly need an interface &amp;amp; not an alias (perhaps to improve type error messages), we can simply define an interface that extends from this alias:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba4468f1d8b787760405&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d8b787760405-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d8b787760405-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d8b787760405-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d8b787760405-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d8b787760405-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba4468f1d8b787760405-6&#34;&gt;6&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d8b787760405-1&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;SyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d8b787760405-2&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;keyof &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;FSSyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;FSSyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d8b787760405-3&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d8b787760405-4&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d8b787760405-5&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;SyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;extends&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;SyncBackend&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba4468f1d8b787760405-6&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0009 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Eventually if we do need multiple implementations, we can choose to either have an explicitly defined interface or keep one implementation as the canonical implementation, derive the interface from it and make the other implementations comply to that.&lt;/p&gt;
&lt;p&gt;I usually resort to the latter when the other implementations are not for public consumption and exist just for stubbing in test cases.&lt;/p&gt;
&lt;p&gt;If multiple implementations are actually exposed then the former solution (explicitly defined interface) helps with separating the API documentation of the interface from the documentation of individual implementations.&lt;/p&gt;


     ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://lorefnon.me/2019/08/15/dealing-with-circular-type-references-in-mobx-state-tree/</guid>
            <title>Dealing with circular type references in Mobx-state-tree</title>
            <link>https://lorefnon.me/2019/08/15/dealing-with-circular-type-references-in-mobx-state-tree/</link>
            <category>Typescript</category>
            <category>MobX</category>
            <category>MobX-State-Tree</category>
            <pubDate>Thu, 15 Aug 2019 05:30:00 +0530</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon.min.css&#34; &gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon-flatui-light.css&#34; &gt;



	&lt;p&gt;A frequently occuring issue when creating interrelated MST models, is that of circular type references.&lt;/p&gt;
&lt;p&gt;Usually we don’t don’t have to explicitly define interfaces for our models, because they can be inferred for us through the APIs exposed by MST. However, when defining models that depend on each other, this falls short because TypeScript’s type-inference is not good enough to circular dependencies.&lt;/p&gt;
&lt;p&gt;For example, lets say we have a note taking application with &lt;code&gt;Snippet&lt;/code&gt; and &lt;code&gt;Annotation&lt;/code&gt; models. A &lt;code&gt;Snippet&lt;/code&gt; can have many &lt;code&gt;Annotation&lt;/code&gt;s and every &lt;code&gt;Annotation&lt;/code&gt; belongs to exactly one &lt;code&gt;Snippet&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Our first stab might be something like this:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba446a3b9a9679920934&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-16&#34;&gt;16&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-17&#34;&gt;17&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-18&#34;&gt;18&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-19&#34;&gt;19&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-20&#34;&gt;20&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-21&#34;&gt;21&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-22&#34;&gt;22&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9a9679920934-23&#34;&gt;23&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-2&#34;&gt;&lt;span class=&#34;crayon-c&#34;&gt;// models/Snippet.ts&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-4&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;types &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;mobx-state-tree&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-5&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;v4 &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;uuid&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;uuid&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-6&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;Annotation&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;./Annotation&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-7&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-8&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export &lt;/span&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Snippet&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;Snippet&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-9&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;optional&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;identifier&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;uuid&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-10&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;late&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Annotation&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-11&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-12&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-13&#34;&gt;&lt;span class=&#34;crayon-c&#34;&gt;// models/Annotation.ts&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-14&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-15&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;types &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;mobx-state-tree&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-16&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;v4 &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;uuid&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;uuid&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-17&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;Snippet&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;./Snippet&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-18&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-19&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export &lt;/span&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Annotation&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;Annotation&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-20&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;optional&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;identifier&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;uuid&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-21&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;snippet&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;reference&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;late&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Snippet&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-22&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9a9679920934-23&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0073 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;However, this will not work out well because of the aforementioned issue with circular dependency, and we will get following error:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba446a3b9bd558713277&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9bd558713277-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9bd558713277-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9bd558713277-3&#34;&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9bd558713277-1&#34;&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#39;Snippet&#39;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;implicitly &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;has &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#39;any&#39;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;because &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;it &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;does &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;not&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;have&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;annotation &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;and&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;is&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;referenced &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;directly &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;indirectly &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;its &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;own &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;initializer&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9bd558713277-2&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9bd558713277-3&#34;&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#39;Annotation&#39;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;implicitly &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;has &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#39;any&#39;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;because &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;it &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;does &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;not&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;have&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;annotation &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;and&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;is&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;referenced &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;directly &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;indirectly &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;its &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;own &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;initializer&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0014 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;We would want to resolve this, but at the same time, use the automatic inference as much as possible so we don’t have to define the entire model type ourselves.&lt;/p&gt;
&lt;p&gt;MST allows us to define our models in multiple stages:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;&lt;code&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba446a3b9c3787886264&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums &#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9c3787886264-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9c3787886264-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9c3787886264-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9c3787886264-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9c3787886264-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9c3787886264-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba446a3b9c3787886264-7&#34;&gt;7&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9c3787886264-1&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Snippet&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;Snippet&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9c3787886264-2&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;optional&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;identifier&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;uuid&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9c3787886264-3&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9c3787886264-4&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9c3787886264-5&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export &lt;/span&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Snippet&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Snippet&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-cn&#34;&gt;1.props&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba446a3b9c3787886264-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;late&lt;/span&gt;&lt;span class=&#34;cray