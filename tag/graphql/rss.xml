<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Icicles of Thought • Posts by &#34;graphql&#34; tag</title>
        <link>https://lorefnon.me</link>
        <description></description>
        <language>en</language>
        <pubDate>Tue, 10 Dec 2019 05:30:00 +0530</pubDate>
        <lastBuildDate>Tue, 10 Dec 2019 05:30:00 +0530</lastBuildDate>
        <category>Javascript</category>
        <category>KnockoutJS</category>
        <category>Ruby</category>
        <category>EventMachine</category>
        <category>Websockets</category>
        <category>Jade</category>
        <category>Node.js</category>
        <category>Rails</category>
        <category>Emacs</category>
        <category>Gulp</category>
        <category>ActiveAdmin</category>
        <category>ActiveRecord</category>
        <category>Devise</category>
        <category>Integration</category>
        <category>Productivity Hacks</category>
        <category>Design Patterns</category>
        <category>InfluxDB</category>
        <category>Grafana</category>
        <category>Functional Programming</category>
        <category>ES6</category>
        <category>Typescript</category>
        <category>ReasonML</category>
        <category>React</category>
        <category>Frontend</category>
        <category>Next.js</category>
        <category>Koa</category>
        <category>Apollo</category>
        <category>GraphQL</category>
        <category>MongoDB</category>
        <category>Automerge</category>
        <category>CRDT</category>
        <category>SVG</category>
        <category>VSCode</category>
        <category>Comlink</category>
        <category>Web-workers</category>
        <category>io-ts</category>
        <category>MobX</category>
        <category>MobX-State-Tree</category>
        <category>Routing</category>
        <category>SQLite</category>
        <category>ZSH</category>
        <category>OCR</category>
        <category>Helm</category>
        <category>SPF</category>
        <category>CSS</category>
        <category>Redux</category>
        <category>Redux-loop</category>
        <category>Vagrant</category>
        <category>Clojure</category>
        <category>Hashicorp</category>
        <category>HAR</category>
        <category>Jq</category>
        <category>Lit-html</category>
        <category>Stimulus</category>
        <item>
            <guid isPermalink="true">https://lorefnon.me/2019/12/10/using-graphql-code-generator-with-authenticated-endpoints/</guid>
            <title>Using graphql-code-generator with authenticated endpoints</title>
            <link>https://lorefnon.me/2019/12/10/using-graphql-code-generator-with-authenticated-endpoints/</link>
            <category>GraphQL</category>
            <pubDate>Tue, 10 Dec 2019 05:30:00 +0530</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon.min.css&#34; &gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon-flatui-light.css&#34; &gt;



	&lt;p&gt;Dotan Simha’s &lt;a class=&#34;wp-editor-md-post-content-link&#34; href=&#34;https://github.com/dotansimha/graphql-code-generator&#34;&gt;graphql-code-generator&lt;/a&gt; is a really useful utility to generate integration code from GraphQL APIs for multiple languages.&lt;/p&gt;
&lt;p&gt;As outlined in &lt;a class=&#34;wp-editor-md-post-content-link&#34; href=&#34;https://graphql-code-generator.com/docs/getting-started/codegen-config&#34;&gt;their docs&lt;/a&gt;, using the graphql-codegen cli with static config is straightforward:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba44630470f051302050&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630470f051302050-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630470f051302050-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630470f051302050-3&#34;&gt;3&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630470f051302050-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630470f051302050-2&#34;&gt;&lt;span class=&#34;crayon-v&#34;&gt;graphql&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;codegen&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;yml&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630470f051302050-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0024 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;This post outlines how to use the code-generator CLI when the API is authenticated.&lt;/p&gt;
&lt;p&gt;&lt;span id=&#34;more-646&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;graphql-codegen uses &lt;a class=&#34;wp-editor-md-post-content-link&#34; href=&#34;https://www.npmjs.com/package/cosmiconfig&#34;&gt;cosmiconfig&lt;/a&gt; for loading the configuration. Thanks to cosmiconfig, this configuration can be a dynamic module instead of a static yaml/json file.&lt;/p&gt;
&lt;p&gt;So we can have arbitrary logic inside the module. For instance if our graphql API is protected by HTTP basic auth, we can prompt the user for credentials and send them as a header:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba44630471b536280973&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-16&#34;&gt;16&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-17&#34;&gt;17&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-18&#34;&gt;18&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-19&#34;&gt;19&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-20&#34;&gt;20&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-21&#34;&gt;21&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-22&#34;&gt;22&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-23&#34;&gt;23&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-24&#34;&gt;24&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-25&#34;&gt;25&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-26&#34;&gt;26&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-27&#34;&gt;27&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-28&#34;&gt;28&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-29&#34;&gt;29&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-30&#34;&gt;30&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-31&#34;&gt;31&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-32&#34;&gt;32&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-33&#34;&gt;33&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-34&#34;&gt;34&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-35&#34;&gt;35&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-36&#34;&gt;36&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-37&#34;&gt;37&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-38&#34;&gt;38&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-39&#34;&gt;39&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-40&#34;&gt;40&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44630471b536280973-41&#34;&gt;41&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-2&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;prompts&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;prompts&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-4&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;promptCredentials&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;prompts&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#39;text&#39;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-7&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#39;name&#39;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-8&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;Enter username&#34;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-9&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-10&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#39;text&#39;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-11&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#39;password&#39;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-12&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;Enter password&#34;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-13&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-14&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-15&#34;&gt;&lt;span class=&#34;crayon-v&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;exports&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;async&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-16&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;await &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;promptCredentials&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-17&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-18&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-19&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;overwrite&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-20&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;schema&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-21&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-22&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;http://localhost:9000/graphql&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-23&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-24&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Authorization&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-25&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;Basic &#34;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;+&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-26&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Buffer&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;base64&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-27&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-28&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-29&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-30&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-31&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;documents&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;components/**/*.graphql&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-32&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;generates&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-33&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;api/graphql.tsx&#34;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-34&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;plugins&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-35&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;typescript&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-36&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;typescript-operations&#34;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-37&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-38&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-39&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-40&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44630471b536280973-41&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0039 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;So the next time we run &lt;code&gt;graphql-codegen --config ./path/to/config.js&lt;/code&gt; we will be prompted for password.&lt;/p&gt;
&lt;p&gt;You can, of course, also do things like keep the credentials in an uncommitted file and then read them in the config file.&lt;/p&gt;


     ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://lorefnon.me/2018/08/20/uploading-files-to-mongodb-gridfs-via-apollo-powered-graphql-api/</guid>
            <title>Uploading files to MongoDB GridFS via Apollo powered GraphQL API</title>
            <link>https://lorefnon.me/2018/08/20/uploading-files-to-mongodb-gridfs-via-apollo-powered-graphql-api/</link>
            <category>Apollo</category>
            <category>GraphQL</category>
            <category>MongoDB</category>
            <pubDate>Mon, 20 Aug 2018 05:30:00 +0530</pubDate>
            <description><![CDATA[ &lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon.min.css&#34; &gt;
&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/crayon-flatui-light.css&#34; &gt;



	&lt;p&gt;GraphQL multi-part request spec outlines a specification for multipart form requests in GraphQL. &lt;a href=&#34;https://github.com/jaydenseric&#34;&gt;Jayden Seric&lt;/a&gt;, the author of the spec, has also authored two libraries &lt;a href=&#34;https://github.com/jaydenseric/apollo-upload-client&#34;&gt;apollo-upload-client&lt;/a&gt; and &lt;a href=&#34;https://github.com/jaydenseric/apollo-upload-server&#34;&gt;apollo-upload-server&lt;/a&gt; which makes it effortless to integrate file uploads in Apollo Server.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.mongodb.com/manual/core/gridfs/&#34;&gt;GridFS&lt;/a&gt; is a simple file system abstraction on top of MongoDB. This facilitates storage of large files (beyond BSON document size limit) in mongo database.&lt;/p&gt;
&lt;p&gt;This post outlines the minimal integration required to save the files uploaded through the GraphQL API to GridFS.&lt;/p&gt;
&lt;p&gt;&lt;span id=&#34;more-364&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We will use Koa as the HTTP server but the approach is applicable to any Apollo supported backend.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://npm.im/apollo-server-koa&#34;&gt;Apollo-koa integration library&lt;/a&gt; comes built in with apollo-upload-server, so if we initialize our Apollo server and configure it use koa server, it will automatically configure body parser and enable file uploads.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba44b95f824925651077&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-16&#34;&gt;16&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-17&#34;&gt;17&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-18&#34;&gt;18&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-19&#34;&gt;19&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-20&#34;&gt;20&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f824925651077-21&#34;&gt;21&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;Koa &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;koa&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-3&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ApolloServer&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;gql&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;apollo-server-koa&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-4&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-5&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;graphQLServer&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ApolloServer&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;typeDefs&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;// Described below&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-7&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;resolvers&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-8&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Query&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-9&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;// ... add queries here&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-10&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-11&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Mutation&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-12&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;addFile&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;// Described below&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-13&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;// ... add other mutations here&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-14&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-15&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-16&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-17&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-18&#34;&gt;&lt;span class=&#34;crayon-v&#34;&gt;graphQLServer&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;applyMiddleware&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-19&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;server&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-20&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f824925651077-21&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0045 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Apollo server &lt;a href=&#34;https://github.com/apollographql/apollo-server/blob/fa6c973f3685fceea905acf259824005e0e0ffe2/packages/apollo-server-core/src/index.ts#L46-L47&#34;&gt;exports&lt;/a&gt; an Upload scalar type which we can use in our typedefs:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba44b95f832588453116&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-16&#34;&gt;16&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f832588453116-17&#34;&gt;17&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;gql&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;apollo-server-koa&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-4&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;typeDefs&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;gql&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;File&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;_id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;!&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-7&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;!&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-8&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;!&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-9&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;mimetype&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;!&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-10&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-t&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;!&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-11&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-12&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-13&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;Mutation&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-14&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;uploadFile&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Upload&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;File&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-15&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-16&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f832588453116-17&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0017 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Now our add file resolver is ready to accept the incoming file stream and can pass it on to GridFS:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba44b95f835312978293&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f835312978293-16&#34;&gt;16&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;mongodb &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;mongodb&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-3&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-4&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;addFile&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;async&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;_parent&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-5&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;stream&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;mimetype&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;await &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;bucket&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;mongodb&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;GridFSBucket&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;_db&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-7&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;uploadStream&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;bucket&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;openUploadStream&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-8&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;await &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;Promise&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;resolve&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;reject&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-9&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;stream&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-10&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;uploadStream&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-11&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;error&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;reject&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-12&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;finish&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;resolve&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-13&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-14&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;_id&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;uploadStream&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;mimetype&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-15&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f835312978293-16&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0030 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;In order to facilitate uploading of files from the client, we need to configure Apollo client to use an upload link:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba44b95f839458028925&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-16&#34;&gt;16&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-17&#34;&gt;17&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-18&#34;&gt;18&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-19&#34;&gt;19&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-20&#34;&gt;20&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-21&#34;&gt;21&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-22&#34;&gt;22&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-23&#34;&gt;23&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-24&#34;&gt;24&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-25&#34;&gt;25&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-26&#34;&gt;26&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-27&#34;&gt;27&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-28&#34;&gt;28&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-29&#34;&gt;29&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-30&#34;&gt;30&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f839458028925-31&#34;&gt;31&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;ApolloProvider&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;react-apollo&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-3&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;ApolloClient&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;apollo-client&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-4&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;InMemoryCache&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;apollo-cache-inmemory&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-5&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;HttpLink&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;apollo-link-http&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-6&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;onError&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;apollo-link-error&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-7&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;ApolloLink&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;apollo-link&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-8&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;createUploadLink&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;apollo-upload-client&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-9&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-10&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ApolloClient&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-11&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;link&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ApolloLink&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-12&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-13&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;// Report errors to console in a user friendly format&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-14&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;onError&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;graphQLErrors&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;networkError&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-15&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;graphQLErrors&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-16&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;graphQLErrors&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;locations&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-17&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-18&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;GraphQL &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Message&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Location&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;locations&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Path&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-19&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-20&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-21&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;networkError&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;Network &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;networkError&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-22&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-23&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-24&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;createUploadLink&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-25&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;uri&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;process&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;APP_URL&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;/graphql&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-26&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;credentials&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;same-origin&#34;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-27&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-28&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-29&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;InMemoryCache&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-30&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f839458028925-31&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0055 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Note that using http link is no longer required, and any configuration options that could be passed to http link can be passed to &lt;code&gt;createUploadLink&lt;/code&gt;. In fact, if http link is used before &lt;code&gt;createUploadLink&lt;/code&gt; file uploads won’t work at all because http link is a terminal link and the upload link added after would not be used.&lt;/p&gt;
&lt;p&gt;Now we can upload files to our GraphQL endpoint using &lt;code&gt;Mutation&lt;/code&gt; component.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;!-- Crayon Syntax Highlighter v_2.7.2_beta --&gt;

		&lt;div id=&#34;crayon-5fba44b95f83c771609500&#34; class=&#34;crayon-syntax crayon-theme-flatui-light crayon-font-inconsolata crayon-os-pc print-yes notranslate&#34; data-settings=&#34; minimize scroll-mouseover&#34; style=&#34; margin-top: 12px; margin-bottom: 12px; font-size: 15px !important; line-height: 20px !important;&#34;&gt;
		
			&lt;div class=&#34;crayon-plain-wrap&#34;&gt;&lt;/div&gt;
			&lt;div class=&#34;crayon-main&#34; style=&#34;&#34;&gt;
				&lt;table class=&#34;crayon-table&#34;&gt;
					&lt;tbody&gt;&lt;tr class=&#34;crayon-row&#34;&gt;
				&lt;td class=&#34;crayon-nums&#34; data-settings=&#34;hide&#34;&gt;
					&lt;div class=&#34;crayon-nums-content&#34; style=&#34;font-size: 15px !important; line-height: 20px !important;&#34;&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-1&#34;&gt;1&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-2&#34;&gt;2&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-3&#34;&gt;3&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-4&#34;&gt;4&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-5&#34;&gt;5&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-6&#34;&gt;6&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-7&#34;&gt;7&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-8&#34;&gt;8&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-9&#34;&gt;9&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-10&#34;&gt;10&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-11&#34;&gt;11&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-12&#34;&gt;12&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-13&#34;&gt;13&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-14&#34;&gt;14&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-15&#34;&gt;15&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-16&#34;&gt;16&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-17&#34;&gt;17&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-18&#34;&gt;18&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-19&#34;&gt;19&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-20&#34;&gt;20&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-21&#34;&gt;21&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-22&#34;&gt;22&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-23&#34;&gt;23&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-24&#34;&gt;24&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-25&#34;&gt;25&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-26&#34;&gt;26&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-27&#34;&gt;27&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-28&#34;&gt;28&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-29&#34;&gt;29&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-30&#34;&gt;30&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-31&#34;&gt;31&lt;/div&gt;&lt;div class=&#34;crayon-num&#34; data-line=&#34;crayon-5fba44b95f83c771609500-32&#34;&gt;32&lt;/div&gt;&lt;/div&gt;
				&lt;/td&gt;
						&lt;td class=&#34;crayon-code&#34;&gt;&lt;div class=&#34;crayon-pre&#34; style=&#34;font-size: 15px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;&#34;&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-1&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-2&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import &lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;gql &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;graphql-tag&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-3&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;Mutation&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;react-apollo&#34;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-4&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-5&#34;&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;UPLOAD_FILE&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;gql&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-6&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;mutation&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;Upload&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-7&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;uploadFile&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-8&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;_id&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-9&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;filename&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-10&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-11&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-12&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-13&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-14&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;export &lt;/span&gt;&lt;span class=&#34;crayon-st&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-15&#34;&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;ApolloProvider &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-16&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;Mutation &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;mutation&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;UPLOAD_FILE&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-17&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;mutate&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-18&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;input&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-19&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-s&#34;&gt;&#34;file&#34;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-20&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;required&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-21&#34;&gt;&lt;span class=&#34;crayon-e&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-r&#34;&gt;onChange&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;event&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-22&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-m&#34;&gt;const&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;event&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;files&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-23&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-e&#34;&gt;mutate&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-24&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;variables&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-i&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;crayon-h&#34;&gt; &lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-25&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-26&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-27&#34;&gt;&lt;span class=&#34;crayon-h&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class=&#34;crayon-c&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-28&#34;&gt;&lt;span class=&#34;crayon-c&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)}&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-29&#34;&gt;&lt;span class=&#34;crayon-c&#34;&gt;&amp;nbsp;&amp;nbsp;&amp;lt;/M&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;utation&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-30&#34;&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;crayon-v&#34;&gt;ApolloProvider&lt;/span&gt;&lt;span class=&#34;crayon-o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-31&#34;&gt;&lt;span class=&#34;crayon-sy&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;crayon-sy&#34;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div class=&#34;crayon-line&#34; id=&#34;crayon-5fba44b95f83c771609500-32&#34;&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;&lt;/table&gt;
			&lt;/div&gt;
		&lt;/div&gt;
&lt;!-- [Format Time: 0.0031 seconds] --&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;This concludes our server side as well as client side setup involved in connecting a file input field to mongodb gridfs.&lt;/p&gt;


     ]]></description>
        </item>
    </channel>
</rss>
