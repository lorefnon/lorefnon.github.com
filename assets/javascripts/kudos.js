window.Kudos=function t(e){this.instances=[],this.init=function(e){var i=this;this.kudosCount=0,this.inText="Don't Move",this.outText="Kudos",this.element=null,this.articleId=null,this.articleTitle=null,this.articleUrl=null,this.className=null,this.name=null;for(property in e)i.hasOwnProperty(property)&&"prototype"!==property&&(i[property]=e[property]);return window.Kudos.instances.push(this),this.element||(this.element=$(t.HTML)),this.fillingElement=this.element.find("div.filling"),this.element.addClass(this.className),this.element.attr("id",this.articleId),this._isAlreadyKudoed()?(this.element.addClass("completed"),isFinite(this._isAlreadyKudoed())&&(this.kudosCount=this._isAlreadyKudoed())):this._bindEvents(),this._fetchCount(),this._setCount(),this},this.init.apply(this,arguments)},window.Kudos.instances=[],window.Kudos.HTML='<figure class="kudo able" id="">        <a href="#kudo">            <div class="filling">&nbsp;</div>            <div class="kudo-info">                <div class="num">1,172</div>                <div class="txt">Kudos</div>            </div>        </a>    </figure>    ',window.Kudos.KudoURL=null,window.Kudos.fetchCount=function(){window.Kudos.KudoURL&&$.ajax({url:window.Kudos.KudoURL,type:"GET",dataType:"json",async:!1}).done(function(t){window.Kudos.kudoData=t})},window.Kudos.prototype={send:function(){var t=this;window.Kudos.KudoURL&&$.ajax({url:window.Kudos.KudoURL,data:{article:t.articleId,title:t.articleTitle,url:t.articleUrl},type:"POST",dataType:"json"})},destroy:function(){this.name=null,this.timer=null,this.fillingElement=null,this.articleId=null,this.articleTitle=null,this.articleUrl=null,this.element&&this.element.remove();for(property in this)this.hasOwnProperty(property)&&(this[property]=null)},render:function(t){return t&&t.append(this.element),this},markAsCompleted:function(){return this.element.addClass("completed").removeClass("activated"),this.element.off(),this.kudosCount=this.kudosCount+1,window.localStorage&&(window.localStorage[this.articleId]=this.kudosCount),this.element.find("div.num").text(this.kudosCount).show(),this.element.find("div.txt").text(this.outText),this},_bindEvents:function(){var t=this,e=function(){t.element.addClass("activated"),t.element.find("div.num").hide(),t.element.find("div.txt").text(t.inText)},i=function(){t.element.removeClass("activated"),t.element.find("div.num").show(),t.element.find("div.txt").text(t.outText)};this.element.on("mouseenter",e),this.element.on("mouseleave",i),this.fillingElement.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend",function(e){t.element.hasClass("activated")&&(t.markAsCompleted(),t.send())})},_fetchCount:function(){var t=this,e=window.Kudos.kudoData.filter(function(e){return e.article===t.articleId})[0];e&&(this.kudosCount=e.kudoCount)},_setCount:function(){this.element.find("div.num").text(this.kudosCount)},_isAlreadyKudoed:function(){return window.localStorage&&localStorage[this.articleId]?localStorage[this.articleId]:void 0}};