var Elastic=function t(e,i){var s,n,l,a,r,h,o;if(e=e||document,h=$(e),n=t.querySelectorAll(".columns",e),i!==!1&&t.configuration.includeContext===!0){for(o=[],h.hasClass("columns")&&o.push(e),l=0,a=n.length;a>l;l++)o.push(n[l]);n=o}for(a=n.length,r=t.columnsIterator,l=0;a>l;l++)r(n[l]);for(s in t.helpers)t.helpers.hasOwnProperty(s)&&t.helpers[s](h)};Elastic.VERSION="2.1.0 RC2",Elastic.COLUMNS_PER_ROW_EXPRESSION=/(^|\s+)on\-(\d+)(\s+|$)/,Elastic.COLUMN_SPAN_EXPRESSION=/(^|\s+)span\-(\d+)(\s+|$)/,Elastic.FIXED_COLUMN_EXPRESSION=/(^|\s+)fixed(\s+|$)/,Elastic.ELASTIC_COLUMN_EXPRESSION=/(^|\s+)elastic(\s+|$)/,Elastic.ADAPTIVE_COLUMNS_EXPRESSION=/(^|\s+)adaptive\-(\d+)\-(\d+)(\s+|$)/,Elastic.FINAL_COLUMN_EXPRESSION=/(^|\s+)final(\s+|$)/,Elastic.DISPLAY_LAYOUT_EXPRESSION=/(^|\s+)display\s+([\w\_\-\d]+)(\s+|$)/,Elastic.configuration={refreshOnResize:!0,includeContext:!0},Elastic.columnsIterator=function(t){var e,i,s,n,l,a,r,h,o,c,u,d,g,f,p,E,m;if(s=Elastic.querySelectorAll("> .container",t)[0]||t,n=Elastic.querySelectorAll("> .column",s),0!==n.length){if(l=n[n.length-1],a=Elastic.getColumnsPerRow(t,n),r=Elastic.getInnerWidth(s),h=Elastic.round(r,a),Elastic.ADAPTIVE_COLUMNS_EXPRESSION.test(t.className)){if(E=Number(RegExp.$2),m=Number(RegExp.$3),h[0].width>m)for(;h[0].width>m&&(a+=1,h=Elastic.round(r,a),!(h[0].width<E)););if(h[0].width<E)for(;h[0].width<E&&(a-=1,h=Elastic.round(r,a),!(h[0].width>m)););}for(o=[],c=[],u=0,d=0,g=0,e=0,i=n.length;i>e;e++)f=n[e],Elastic.FIXED_COLUMN_EXPRESSION.test(f.className)?(p=Elastic.getOuterWidth(f),f.columnWidth=p,f.isFixed=!0,g+=p):Elastic.ELASTIC_COLUMN_EXPRESSION.test(f.className)?(f.isElastic=!0,o.push(f)):f.isRegular=!0,Elastic.FINAL_COLUMN_EXPRESSION.test(f.className)&&(f.isFinal=!0),d=u+f.spanWidth,d>=a||f===l||f.isFinal?(a>=d&&c.push(f),Elastic.processRow(c,r,g,o,h),d>a?(f.isFixed&&(g=p),u=f.spanWidth,d=f.spanWidth,f.isElastic&&(o=[f]),c=[f],f===l&&Elastic.processRow(c,r,g,o,h)):(g=0,u=0,d=0,o=[],c=[])):(c.push(f),u+=f.spanWidth);return this}},Elastic.getColumnsPerRow=function(t,e){var i,s,n,l;for(n=e.length,l=!1,Elastic.COLUMNS_PER_ROW_EXPRESSION.test(t.className)&&(n=Number(RegExp.$2),l=!0),i=0,s=e.length;s>i;i++)Elastic.COLUMN_SPAN_EXPRESSION.test(e[i].className)?(e[i].spanWidth=Number(RegExp.$2),l!==!0&&(n+=e[i].spanWidth-1)):e[i].spanWidth=1;return n},Elastic.processRow=function(t,e,i,s,n){var l,a,r,h,o,c,u,d,g,f;if(!(i>=e)){for(a=0,r=0,h=i,o=t[t.length-1],-1==o.className.indexOf("elastic-row-last")&&(o.className=o.className+" elastic-row-last"),c=0,d=t.length;d>c;c++)if(l=t[c],l.isRegular){if(l.spanWidth>=n.length){l.style.width=e+"px";continue}for(u=r;u<r+l.spanWidth;u++)a+=n[u].width;h+=a,r+=l.spanWidth,l.style.width=a+"px",a=0}if(s.length>0)for(f=0,g=Elastic.round(e-h,s.length),c=0,d=s.length;d>c;c++)f+=g[c].width,s[c].style.width=g[c].width+"px";o.isFinal&&(o.style.marginRight=e-h-(f||0)+"px")}},Elastic.round=function(t,e){var i,s,n,l,a,r,h,o,c,u,d,g;if(i=Elastic.round.cache,i[t]&&i[t][e])return i[t][e];for(l=100/e,a=[],r=Math.round(t*(l/100)),h=r*e,s=0;e>s;s++)a.push({width:r});if(o=t-h,c=Math.abs(o),u=e/(c+1),d=o>0,g=-1,0!==o)for(s=1;s<=Math.abs(o);s++)n=-1==g?a[a.length-Math.floor(u*Math.round(s/2))]:a[Math.floor(u*Math.round(s/2))-1],d?n.width=r+1:n.width=r-1,g=-1*g;return i[t]||(i[t]={}),i[t][e]=a,a},Elastic.round.cache={},Elastic.helpers={"full-width":function(t,e){var i,s,n,a,r;if(n=t.find(".full-width"),e!==!1&&Elastic.configuration.includeContext===!0){for(r=[],t.hasClass("full-width")&&r.push(t[0]),i=0,l=n.length;i<l;i++)r.push(n[i]);n=r}for(a=n.length,i=0;a>i;i++)s=$(n[i]),s.width(s.parent().width()-(s.outerWidth(!0)-s.width()));return this},"same-height":function(t,e){var i,s,n,a,r,h,o,c,u;if(o=t.find(".same-height"),e!==!1&&Elastic.configuration.includeContext===!0){for(u=[],t.hasClass("same-height")&&u.push(t[0]),i=0,l=o.length;i<l;i++)u.push(o[i]);o=u}for(c=o.length,i=0;c>i;i++){for(r=$(o[i]).find("> *"),h=r.length,a=0,s=0;h>s;s++)n=$(r[s]).outerHeight(!0),a=a>n?a:n;for(s=0;h>s;s++)$(r[s]).css("height",a)}return this},"same-row-height":function(t,e){var i,s,n,a,r,h,o,c,u,d;if(c=t.find(".same-row-height"),e!==!1&&Elastic.configuration.includeContext===!0){for(d=[],t.hasClass("same-row-height")&&d.push(t[0]),i=0,l=c.length;i<l;i++)d.push(c[i]);c=d}for(u=c.length,i=0;u>i;i++){h=$(c[i]).find("> *"),o=h.length,r=0;var g=[];for(s=0;o>s;s++)if(a=$(h[s]).outerHeight(!0),r=r>a?r:a,g.push(h[s]),$(h[s]).hasClass("elastic-row-last")){for(n=0;n<g.length;n++)$(g[n]).css("height",r);r=0,g=[]}}return this},"same-min-height":function(t,e){var i,s,n,a,r,h,o,c,u;if(o=t.find(".same-min-height"),e!==!1&&Elastic.configuration.includeContext===!0){for(u=[],t.hasClass("same-min-height")&&u.push(t[0]),i=0,l=o.length;i<l;i++)u.push(o[i]);o=u}for(c=o.length,i=0;c>i;i++){for(r=$(o[i]).find("> *"),h=r.length,a=0,s=0;h>s;s++)n=$(r[s]).outerHeight(!0),a=a>n?a:n;for(s=0;h>s;s++)$(r[s]).css("min-height",a)}return this},"full-height":function(t,e){var i,s,n,a,r,h;if(a=t.find(".full-height"),e!==!1&&Elastic.configuration.includeContext===!0){for(h=[],t.hasClass("full-height")&&h.push(t[0]),i=0,l=a.length;i<l;i++)h.push(a[i]);a=h}for(r=a.length,i=0;r>i;i++)s=$(a[i]),n=s.parent().height()-(s.outerHeight(!0)-s.height()),0>n||isNaN(Number(n))||s.css("height",n);return this},"full-min-height":function(t,e){var i,s,n,a,r,h;if(a=t.find(".full-min-height"),e!==!1&&Elastic.configuration.includeContext===!0){for(h=[],t.hasClass("full-min-height")&&h.push(t[0]),i=0,l=a.length;i<l;i++)h.push(a[i]);a=h}r=a.length;for(var i=0;r>i;i++)s=$(a[i]),n=s.parent().height()-(s.outerHeight(!0)-s.height()),0>n||isNaN(Number(n))||s.css("min-height",n);return this},"elastic-height":function(t,e){var i,s,n,a,r,h,o,c;if(n=t.find(".elastic-height"),e!==!1&&Elastic.configuration.includeContext===!0){for(c=[],t.hasClass("elastic-height")&&c.push(t[0]),i=0,l=n.length;i<l;i++)c.push(n[i]);n=c}h=0,o=n.length;for(var i=0;o>i;i++){$element=$(n[i]),a=$element.parent().find("> *:not(.elastic-height)"),r=a.length,h=0;for(var s=0;r>s;s++)h+=$(a[s]).outerHeight(!0);0>h||isNaN(Number(h))||$element.css("height",$element.parent().height()-h)}return this},center:function(t,e){var i,s,n,a,r,h,o;if(s=t.find(".vertical-center, .center"),e!==!1&&Elastic.configuration.includeContext===!0){for(o=[],(t.hasClass("vertical-center")||t.hasClass("center"))&&o.push(t[0]),i=0,l=s.length;i<l;i++)o.push(s[i]);s=o}n=s.length,r=0;for(var i=0;n>i;i++)a=$(s[i]),h=$(s[i]).parent(),r=Math.round((h.height()-a.outerHeight(!0))/2),0>r||isNaN(Number(r))||h.css({paddingTop:r+"px",height:h.css("height")?h.outerHeight()-r:""});return this},bottom:function(t,e){var i,s,n,a,r,h,o,s=t.find(".bottom");if(e!==!1&&Elastic.configuration.includeContext===!0){for(o=[],t.hasClass("bottom")&&o.push(t[0]),i=0,l=s.length;i<l;i++)o.push(s[i]);s=o}for(var n=s.length,r=0,i=0;n>i;i++)a=$(s[i]),h=$(s[i]).parent(),r=Math.round(h.height()-a.outerHeight(!0)),0>r||isNaN(Number(r))||h.css({paddingTop:r+"px",height:h.css("height")?h.outerHeight()-r:""});return this}},Elastic.$window=$(window),Elastic.$documentElement=$(document),Elastic.reset=function(t,e){var i,s,n,l,a,r,h,o,c,u,d,g;for(g=Elastic.$documentElement,$context=$(t||document),g.trigger("elastic:beforeReset"),l=$context.find(".same-height > *, same-row-height > *, .full-height, .elastic-height"),u=$context.find(".same-min-height > *, .full-min-height"),r=$context.find(".vertical-center, .center, .bottom"),s=$context.find(".column:not(.fixed), .full-width"),o=$context.find(".column.final"),$context.find(".same-row-height > .elastic-row-last").removeClass("elastic-row-last"),e!==!1&&Elastic.configuration.includeContext===!0&&(($context.hasClass("same-height")||$context.hasClass("same-row-height"))&&$context.find("> *").each(function(){this.style.height=""}),($context.hasClass("full-height")||$context.hasClass("elastic-height"))&&$context.css("height","")),i=0,a=l.length;a>i;i++)l[i].style.height="";for(e!==!1&&Elastic.configuration.includeContext===!0&&($context.hasClass("same-min-height")&&$context.find("> *").each(function(){this.style.minHeight=""}),$context.hasClass("full-min-height")&&$context.css("minHeight","")),i=0,d=u.length;d>i;i++)u[i].style.minHeight="";for(e!==!1&&Elastic.configuration.includeContext===!0&&($context.hasClass("vertical-center")||$context.hasClass("center")||$context.hasClass("bottom"))&&($context.parent().css("paddingTop",""),$context.parent().css("height","")),i=0,h=r.length;h>i;i++)r[i].parentNode.style.paddingTop="",r[i].parentNode.style.height="";for(e!==!1&&Elastic.configuration.includeContext===!0&&($context.hasClass("column")&&!$context.hasClass("fixed")||$context.hasClass("full-width"))&&$context.css("width",""),i=0,n=s.length;n>i;i++)s[i].style.width="";for(e!==!1&&Elastic.configuration.includeContext===!0&&$context.hasClass("column")&&$context.hasClass("final")&&($context.css("marginLeft",""),$context.css("marginRight","")),i=0,c=o.length;c>i;i++)o[i].style.marginLeft="",o[i].style.marginRight="";return g.trigger("elastic:reset"),this},Elastic.refresh=function(t,e){var i=Elastic.$documentElement;return i.trigger("elastic:beforeRefresh",t),Elastic.reset(t)(t),i.trigger("elastic:refresh",t),this},Elastic.getComputedStyle=function(t){return t.currentStyle?(Elastic.getComputedStyle=function(t){return t.currentStyle},t.currentStyle):(Elastic.getComputedStyle=function(t){return window.getComputedStyle(t,!0)},window.getComputedStyle(t,!0))},Elastic.getInnerWidth=function(t){var e,i;return e=Elastic.getComputedStyle(t),i=parseFloat("auto"==e.width?t.clientWidth:e.width.replace("px","")),"auto"==e.width?i=i-parseFloat(e.paddingLeft.replace("px",""))-parseFloat(e.paddingRight.replace("px",""))-parseFloat(e.borderLeftWidth.replace("px",""))-parseFloat(e.borderRightWidth.replace("px","")):"border-box"!=e.boxSizing||e.MozBoxSizing||e.MsBoxSizing||(i=i-parseFloat(e.borderLeftWidth.replace("px",""))-parseFloat(e.borderRightWidth.replace("px",""))),isNaN(i)&&(i=$(t).width()),Math.floor(i)},Elastic.getOuterWidth=function(t){var e,i,s;return e=Elastic.getComputedStyle(t),i=parseFloat("auto"==e.width?t.clientWidth:e.width.replace("px","")),"auto"==e.width&&(i=i-parseFloat(e.paddingLeft.replace("px",""))-parseFloat(e.paddingRight.replace("px",""))-parseFloat(e.borderLeftWidth.replace("px",""))-parseFloat(e.borderRightWidth.replace("px",""))),s=i+parseFloat(e.marginLeft.replace("px",""))+parseFloat(e.marginRight.replace("px","")),isNaN(s)&&(s=$(t).outerWidth(!0)),Math.ceil(s)},Elastic.querySelectorAll=function(t,e){var i;return document.querySelectorAll?e?">"==t.substr(0,1)?e.id?i=document.querySelectorAll("#"+e.id+t):(e.id="___elastic_temporal_id___",i=document.querySelectorAll("#"+e.id+t),e.id=""):i=e.querySelectorAll(t):i=document.querySelectorAll(t):i=e?$(e).find(t):$(t),i},Elastic.$documentElement.bind("elastic:beforeInitialize",function(){var t=Elastic.DISPLAY_LAYOUT_EXPRESSION;return $(".display").each(function(){var e;t.test(this.className)&&(e=".position-"+RegExp.$2,$(e).removeClass(e).appendTo(this))}),null}),jQuery.fn.ready(function(){var t=Elastic.$documentElement,e=document.body.clientWidth;return t.trigger("elastic:beforeInitialize"),Elastic(),e!=document.body.clientWidth&&(document.body.style.overflow="hidden",Elastic.refresh(),document.body.style.overflow=""),jQuery(window).bind("resize",function(){Elastic.configuration.refreshOnResize&&Elastic.refresh()}),t.bind("elastic",Elastic.refresh),t.trigger("elastic:initialize"),null});